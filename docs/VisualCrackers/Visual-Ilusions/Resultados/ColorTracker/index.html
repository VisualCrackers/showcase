<!doctype html><html lang=es-es dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Color tracker # La capacidad reducida de distinguir entre ciertos colores debido a un defecto genético como lo es el daltonismo, hace que el color sea una variable importante a la hora de realizar cualquier diseño; es por ello que es importante intentar reducir los inconvenientes que esto puede ocasionar. Adicionalmente, esta percepción distinta o nula sobre los colores no solo es una afección a como se ven las cosas, sino que también afecta en la capacidad de obtener información del entorno."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Color tracker # La capacidad reducida de distinguir entre ciertos colores debido a un defecto genético como lo es el daltonismo, hace que el color sea una variable importante a la hora de realizar cualquier diseño; es por ello que es importante intentar reducir los inconvenientes que esto puede ocasionar. Adicionalmente, esta percepción distinta o nula sobre los colores no solo es una afección a como se ven las cosas, sino que también afecta en la capacidad de obtener información del entorno."><meta property="og:type" content="article"><meta property="og:url" content="https://visualcrackers.github.io/showcase/docs/VisualCrackers/Visual-Ilusions/Resultados/ColorTracker/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-03-20T21:16:35-05:00"><title>Color Tracker | Visual Computing</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Visual Computing</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><span>Visual Crackers</span><ul><li><a href=/showcase/docs/VisualCrackers/Visual-Ilusions/Introduccion/>Introduccion</a></li><li><a href=/showcase/docs/VisualCrackers/Visual-Ilusions/Antecedentes/>Antecedentes</a></li><li><a href=/showcase/docs/VisualCrackers/Visual-Ilusions/Conclusiones/>Conclusiones</a></li><li><a href=/showcase/docs/VisualCrackers/Visual-Ilusions/Herramientas/>Herramientas</a></li></ul></li><li><a href=/showcase/docs/Group/Acerca-de/>Acerca De</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Color Tracker</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside></header><article class=markdown><blockquote class="book-hint info"><h1 id=color-tracker>Color tracker
<a class=anchor href=#color-tracker>#</a></h1></blockquote><p>La capacidad reducida de distinguir entre ciertos colores debido a un defecto genético como lo es
el <a href=https://es.wikipedia.org/wiki/Daltonismo><em><strong>daltonismo</strong></em></a>, hace que el color sea una variable importante a la hora de realizar cualquier diseño;
es por ello que es importante intentar reducir los inconvenientes que esto puede ocasionar.
Adicionalmente, esta percepción distinta o nula sobre los colores no solo es una afección a como
se ven las cosas, sino que también afecta en la capacidad de <em>obtener información del entorno</em>.</p><p>Enfrentarse al daltonismo es un reto que no es fácil de asumir, en especial cuando se realiza un primer acercamiento
ya que no se tiene una idea clara de como se ve el mundo de una persona daltonica. Sin embargo, son las personas con
esta discapacidad las que usualmente tienen que acomodarse a los demás, y las confusiones entre colores pueden generar
una gran frustración.</p><hr><blockquote class="book-hint info"><h2 id=y-que-se-puede-hacer>¿Y que se puede hacer?
<a class=anchor href=#y-que-se-puede-hacer>#</a></h2></blockquote><p>En busca de una alternativa para reducir los inconvenientes que esto puede ocasionar, se realizó un script en P5.js que
permite realizar un <em>seguimiento de los colores</em> que se encuentran en la pantalla, y a su vez los <em>identifica</em> de manera automática
en los nombres de los colores que han sido establecidos en el sistema.</p><blockquote class="book-hint info"><h3 id=cómo-funciona>¿Cómo funciona?
<a class=anchor href=#c%c3%b3mo-funciona>#</a></h3></blockquote><blockquote class=book-hint><p>Para realizar el match del color que el usuario desea, puede hacerlo de dos maneras:</p><ol><li>Dando click sobre el color que desea identificar que se encuentra en el video actual.</li><li>Ingresando la cantidad de rojo, verde y azul (Codigo RGB) que desea identificar en el video actual.</li></ol></blockquote><p>Una vez que se ha seleccionado el color, se muestra el nombre del color que más se asemeja entre los existentes de la lista
proporcionada por <a href=https://chir.ag/projects/name-that-color/><strong>Name That Color</strong></a> y, adicionalmente, se realiza el seguimiento del pixel más cercano al origen que concuerde
con dicho color.</p><blockquote class="book-hint warning">El script a continuación detalla como se recorre la matriz de pixeles del video actual en búsqueda de la primera instancia
que sea similar contando con un margen de tolerancia.</blockquote><details open><summary>findColor</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>findColor</span>(<span style=color:#a6e22e>input</span>, <span style=color:#a6e22e>color</span>){
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>matchR</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>matchG</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>[<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>matchB</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>[<span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>y</span><span style=color:#f92672>*</span><span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>width</span><span style=color:#f92672>+</span><span style=color:#a6e22e>x</span>)<span style=color:#f92672>*</span><span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>capture</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span>];
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>capture</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>capture</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span><span style=color:#f92672>+</span><span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>r</span> <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>matchR</span><span style=color:#f92672>-</span><span style=color:#a6e22e>tolerance</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>matchR</span><span style=color:#f92672>+</span><span style=color:#a6e22e>tolerance</span> <span style=color:#f92672>&amp;&amp;</span>
</span></span><span style=display:flex><span>         <span style=color:#a6e22e>g</span> <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>matchG</span><span style=color:#f92672>-</span><span style=color:#a6e22e>tolerance</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>matchG</span><span style=color:#f92672>+</span><span style=color:#a6e22e>tolerance</span> <span style=color:#f92672>&amp;&amp;</span>
</span></span><span style=display:flex><span>         <span style=color:#a6e22e>b</span> <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>matchB</span><span style=color:#f92672>-</span><span style=color:#a6e22e>tolerance</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>matchB</span><span style=color:#f92672>+</span><span style=color:#a6e22e>tolerance</span>){
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>createVector</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>)
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><p>Una vez encontrado el color, este se resalta en el video a la vez que se muestra el codigo hexadecimal del color
mas cercano encontrado con la libreria <a href=https://chir.ag/projects/ntc/><em>ntc</em></a> y su respectivo nombre. En un nivel inferior se muestra el codigo del color
que fue seleccionado a buscar, el cual no debe ser muy distante del ya encontrado.</p><blockquote class="book-hint warning">Para realizar las conversiones y determinaciones de códigos se utilizaron las siguientes funciones:</blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>componentToHex</span>(<span style=color:#a6e22e>color</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>hex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>toString</span>(<span style=color:#ae81ff>16</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>hex</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;0&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>hex</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>hex</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>rgbToHex</span>(<span style=color:#a6e22e>color</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;#&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>componentToHex</span>(<span style=color:#a6e22e>color</span>[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>+</span> <span style=color:#a6e22e>componentToHex</span>(<span style=color:#a6e22e>color</span>[<span style=color:#ae81ff>1</span>]) <span style=color:#f92672>+</span> <span style=color:#a6e22e>componentToHex</span>(<span style=color:#a6e22e>color</span>[<span style=color:#ae81ff>2</span>]);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Por ultimo, se decidió realizar también la etiqueta de color en un espectro mucho más reducido, pero que permite
una identificación más general de los colores; la implementación de esta utilidad se realizo a partir del codigo de color HSL.
Para la mejor visualización del color con el que se está trabajando,
existe un cuadro en la parte inferior que se rellena con el color del matching.</p><blockquote class=book-hint>El resultado final es el siguiente Sketch que permite realizar un ColorTracking en tiempo real a través de la cámara.</blockquote><iframe id=colorTracker style=width:735px;height:525px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/colorTracker.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><blockquote class="book-hint info"><p><strong>Colores</strong></p><p>La libreria de opensource <a href=https://chir.ag/projects/ntc/><strong>Name That Color</strong></a> proporciona una lista de colores
que incluye más de 1500 nombres de colores, con sus respectivos códigos RGB y Hexadecimales.
También, contiene inmerso el código que calcula el color más cercano al color dado.</p></blockquote><blockquote class="book-hint danger"><p><strong>ColorTracker</strong></p><p>El seguimiento e identificación de los colores que sean seleccionados se verá bastante afectado por la iluminación del ambiente,
al igual que la calidad de la cámara.</p></blockquote></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcrackers/showcase/commit/3ebc01686648aaf801e147451f8c4700e6594309 title='Last modified by Ivan Yared Lombana Lozano | March 21, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>March 21, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents></nav></div></aside></main></body></html>