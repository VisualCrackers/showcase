<!doctype html><html lang=es-es dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Palette Generator # A la hora de crear cualquier tipo de software, diseño, o herramienta, es importante considerar que no todos los usuarios tienen la misma capacidad de percepción. Los colores son variables que realmente afectan sobre la interacción de los consumidores con el producto, por lo que realizar una selección de la paleta apropiada es una tarea que debe contemplarse debidamente, y aún más cuando se procura que el producto sea accesible para todos."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Palette Generator # A la hora de crear cualquier tipo de software, diseño, o herramienta, es importante considerar que no todos los usuarios tienen la misma capacidad de percepción. Los colores son variables que realmente afectan sobre la interacción de los consumidores con el producto, por lo que realizar una selección de la paleta apropiada es una tarea que debe contemplarse debidamente, y aún más cuando se procura que el producto sea accesible para todos."><meta property="og:type" content="article"><meta property="og:url" content="https://visualcrackers.github.io/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/Palette/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-03-22T16:47:32-05:00"><title>Palette | Visual Crackers</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Visual Crackers</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><span>Visual Computing</span><ul><li><input type=checkbox id=section-4a86fae448a0f2e6d110fe23b7c4ce25 class=toggle checked>
<label for=section-4a86fae448a0f2e6d110fe23b7c4ce25 class="flex justify-between"><a role=button>Visual Ilusions</a></label><ul><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Intro-background/>Intro & Background</a></li><li><input type=checkbox id=section-0cee58da2e2f7ba7406b81f716a40f1b class=toggle checked>
<label for=section-0cee58da2e2f7ba7406b81f716a40f1b class="flex justify-between"><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/>Code & Results</a></label><ul><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/Palette/ class=active>Palette</a></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/ColorTracker/>Color Tracker</a></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/ReColoring/>Re Coloring</a></li></ul></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Conclusions-Future-work/>Conclusions & Future Work</a></li></ul></li></ul></li><li><a href=/showcase/docs/About/>About</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Palette</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside></header><article class=markdown><blockquote class="book-hint info"><h1 id=palette-generator>Palette Generator
<a class=anchor href=#palette-generator>#</a></h1></blockquote><p>A la hora de crear cualquier tipo de software, diseño, o herramienta, es importante considerar que no todos los
usuarios tienen la misma capacidad de percepción. Los colores son variables que realmente afectan sobre la interacción
de los consumidores con el producto, por lo que realizar una <em>selección de la paleta apropiada</em> es una tarea que debe
contemplarse debidamente, y aún más cuando se procura que el producto sea <strong>accesible</strong> para todos.</p><blockquote class=book-hint>Obtener la paleta de colores que aparecen con más frecuencia de una imágen va a permitir que el diseñador pueda
evidenciar si los colores que ha seleccionado son los más adecuados para el producto, o si por el contrario, es necesario
realizar un cambio en la misma. También, a través de un generador de paletas de colores, se pueden investigar sobre
<em>combinaciones que son menos propensas a causar problemas de confusión</em> de colores para las personas con <em><strong>daltonismo</strong></em>.</blockquote><blockquote class="book-hint info"><h2 id=cómo-funciona>¿Cómo funciona?
<a class=anchor href=#c%c3%b3mo-funciona>#</a></h2></blockquote><p>El script se basa en la extracción de los colores que aparecen en una imágen, y la obtención de la frecuencia
de cada uno de ellos. Para ello, se ha utilizado el método <strong><code>loadPixels()</code></strong> de la librería P5.js, que permite obtener la
información de cada uno de los pixeles de la imágen, y así poder realizar el conteo de los colores al recorrer la
pieza gráfica. Se guarda en un arreglo la información de cada color, y la frecuencia con la que aparece en la imágen,
teniendo en cuenta también una tolerancia para no hacer excesivamente grande la estructura de datos.</p><p>Una vez que se ha obtenido la información de los colores, se procede a ordenarlos de mayor a menor frecuencia,
tomando los primeros 7 colores de esta la lista, y mostrándolos en la parte inferior del canvas.</p><blockquote class="book-hint warning">El código para la extracción de los colores se muestra a continuación:</blockquote><details open><summary>extractColors</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>extractColors</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>c</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>(<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>get</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>));
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>found</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>colors</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>existingColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colors</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>colorDistance</span>(<span style=color:#a6e22e>existingColor</span>, <span style=color:#a6e22e>c</span>) <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>tolerance</span>) { <span style=color:#75715e>// tolerance range
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#a6e22e>found</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>colors</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>1</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>found</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>colors</span>.<span style=color:#a6e22e>push</span>([<span style=color:#a6e22e>c</span>, <span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><blockquote class="book-hint info">Para ordenar la paleta de colores en la parte inferior del canvas se ha utilizado el método <strong><code>colorNumber(color)</code></strong>
que permite realizar una conversión del código RGB a un valor numérico, y así poder colocarlos en un orden agradable
armonicamente para la vista.</blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>colorNumber</span>(<span style=color:#a6e22e>c</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>256</span><span style=color:#f92672>*</span><span style=color:#ae81ff>256</span><span style=color:#f92672>*</span><span style=color:#a6e22e>red</span>(<span style=color:#a6e22e>c</span>) <span style=color:#f92672>+</span> <span style=color:#ae81ff>256</span><span style=color:#f92672>*</span><span style=color:#a6e22e>green</span>(<span style=color:#a6e22e>c</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>blue</span>(<span style=color:#a6e22e>c</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote class="book-hint info">Para obtener la distancia entre dos colores se ha utilizado la fórmula de la distancia euclidiana, que permite
obtener la distancia entre dos puntos en un espacio de n dimensiones. En este caso, se ha utilizado para obtener
la distancia entre dos colores en el espacio RGB en la función <strong><code>colorDistance(c1, c2)</code></strong>.</blockquote><p>El resultado final es el siguiente:<blockquote class="book-hint warning"><p><strong>Advertencia:</strong></p><p>Para algunas imágenes el procesamiento puede ser tardado debido al recorrido que es necesario realizar, por lo que
se recomienda utilizar imágenes de un tamaño reducido, asi como también se puede presentar demoras en caso que la
imágen tenga demasiados colores distintos.</p></blockquote></p><iframe id=palette style=width:735px;height:600px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/palette.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><blockquote class="book-hint danger"><p><strong>Debilidades:</strong></p><p>Si existen muchos colores parecidos, segun el valor de la tolerancia, puede que no se muestren todos los colores
importantes que se podrian visualizar con la percepción humana, ya que el orden de procesamiento de la imágen hace
que los colores en la parte superior tengan mayor prioridad.</p></blockquote></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcrackers/showcase/commit/0c97e14c66e9cec778afbe6ee53534f29f38ce89 title='Last modified by Sebastián Piñerez | March 22, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>March 22, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents></nav></div></aside></main></body></html>