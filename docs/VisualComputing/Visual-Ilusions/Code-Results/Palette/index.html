<!doctype html><html lang=es-es dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Palette Generator # When creating any type of software, design, or tool, it is important to consider that not all users have the same perception capacity. The colors are variables that really affect the interaction of consumers with the product, so making a selection of the appropriate palette is a task that must be properly contemplated, and even more so when trying to make the product accessible to everyone."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Palette Generator # When creating any type of software, design, or tool, it is important to consider that not all users have the same perception capacity. The colors are variables that really affect the interaction of consumers with the product, so making a selection of the appropriate palette is a task that must be properly contemplated, and even more so when trying to make the product accessible to everyone."><meta property="og:type" content="article"><meta property="og:url" content="https://visualcrackers.github.io/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/Palette/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-19T21:25:29-05:00"><title>Palette | Visual Crackers ðŸ’¥</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.d22a60abc40100847f86f22dd3b86c75dccdfdb323f5314b4227cb88db47b288.css integrity="sha256-0ipgq8QBAIR/hvIt07hsddzN/bMj9TFLQifLiNtHsog=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Visual Crackers ðŸ’¥</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><span>Visual Computing</span><ul><li><input type=checkbox id=section-4a86fae448a0f2e6d110fe23b7c4ce25 class=toggle checked>
<label for=section-4a86fae448a0f2e6d110fe23b7c4ce25 class="flex justify-between"><a role=button>Visual Ilusions</a></label><ul><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Intro-background/>Intro & Background</a></li><li><input type=checkbox id=section-0cee58da2e2f7ba7406b81f716a40f1b class=toggle checked>
<label for=section-0cee58da2e2f7ba7406b81f716a40f1b class="flex justify-between"><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/>Code & Results</a></label><ul><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/Palette/ class=active>Palette</a></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/ColorTracker/>Color Tracker</a></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/ReColoring/>Re Coloring</a></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/Histogram/>Histogram</a></li></ul></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Conclusions-Future-work/>Conclusions & Future Work</a></li></ul></li><li><input type=checkbox id=section-0d6c9b58e4921d4dbec9a87d14426653 class=toggle>
<label for=section-0d6c9b58e4921d4dbec9a87d14426653 class="flex justify-between"><a role=button>Transformations</a></label><ul><li><a href=/showcase/docs/VisualComputing/Transformations/Intro-background/>Intro & Background</a></li><li><input type=checkbox id=section-8cec2435bf1386ecadd18a96df947a94 class=toggle>
<label for=section-8cec2435bf1386ecadd18a96df947a94 class="flex justify-between"><a href=/showcase/docs/VisualComputing/Transformations/Code-Results/>Code & Results</a></label><ul><li><a href=/showcase/docs/VisualComputing/Transformations/Code-Results/2D-Solar-System/>2 D Solar System</a></li><li><a href=/showcase/docs/VisualComputing/Transformations/Code-Results/3D-Solar-System/>3 D Solar System</a></li><li><a href=/showcase/docs/VisualComputing/Transformations/Code-Results/Jupyter-Moons/>Jupyter Moons</a></li><li><a href=/showcase/docs/VisualComputing/Transformations/Code-Results/Moon-and-Earth/>Moon and Earth</a></li></ul></li><li><a href=/showcase/docs/VisualComputing/Transformations/Conclusions-Future-work/>Conclusions & Future Work</a></li></ul></li><li><input type=checkbox id=section-28214bdf74b91f88b798d6a345130776 class=toggle>
<label for=section-28214bdf74b91f88b798d6a345130776 class="flex justify-between"><a role=button>Shaders</a></label><ul><li><a href=/showcase/docs/VisualComputing/Shaders/Intro-background/>Intro & Background</a></li><li><input type=checkbox id=section-2861031ceef2b1efc95889a5715c6ea4 class=toggle>
<label for=section-2861031ceef2b1efc95889a5715c6ea4 class="flex justify-between"><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/>Code & Results</a></label><ul><li><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/Color-Blender/>Color Blender</a></li><li><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/Glitch-Board/>Glitch Board</a></li><li><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/Mosaic/>Mosaic</a></li><li><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/Smart-Mosaic/>Smart Mosaic</a></li></ul></li><li><a href=/showcase/docs/VisualComputing/Shaders/Conclusions-Future-work/>Conclusions & Future Work</a></li></ul></li></ul></li><li><a href=/showcase/docs/About/>About</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Palette</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#palette-generator><strong>Palette Generator</strong></a><ul><li><a href=#how-does-it-work>How does it work?</a></li><li><a href=#result>Result</a></li><li><a href=#full-code>Full Code</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=palette-generator><strong>Palette Generator</strong>
<a class=anchor href=#palette-generator>#</a></h1><p>When creating any type of software, design, or tool, it is important to consider that not all users have the same perception capacity. The colors are variables that really affect the interaction of consumers with the product, so making a <em>selection of the appropriate palette</em> is a task that must be properly contemplated, and even more so when trying to make the product <strong>accessible</strong> to everyone.</p><blockquote class=book-hint>Obtaining the palette of colors that appear most frequently in an image will allow the designer to show if the colors he has selected are the most suitable for the product, or if, on the contrary, it is necessary make a change to it. Also, through a color palette generator, you can investigate about <em>color combinations that are less likely to cause confusion</em> problems for people with <strong>color blindness</strong>.</blockquote><h2 id=how-does-it-work>How does it work?
<a class=anchor href=#how-does-it-work>#</a></h2><p>The script is based on extracting the colors that appear in an image, and obtaining the frequency from each of them. For this, the <strong><code>loadPixels()</code></strong> method of the P5.js library has been used, which allows obtaining the information of each one of the pixels of the image, and thus be able to count the colors when going through the graphic piece. The information of each color is saved in an arrangement, and the frequency with which it appears in the image, also taking into account a tolerance so as not to make the data structure excessively large.</p><p>Once the information on the colors has been obtained, they are ordered from highest to lowest frequency, taking the first 7 colors of this list, and showing them at the bottom of the canvas.</p><blockquote class="book-hint info">The code for extracting the colors is shown below:</blockquote><details open><summary>extractColors</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>extractColors</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>c</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>(<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>get</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>));
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>found</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>colors</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>existingColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colors</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>colorDistance</span>(<span style=color:#a6e22e>existingColor</span>, <span style=color:#a6e22e>c</span>) <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>tolerance</span>) { <span style=color:#75715e>// tolerance range
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#a6e22e>found</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>colors</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>1</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>found</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>colors</span>.<span style=color:#a6e22e>push</span>([<span style=color:#a6e22e>c</span>, <span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><blockquote class=book-hint>To order the color palette at the bottom of the canvas, the <strong><code>colorNumber(color)</code></strong> method has been used
that allows you to perform a conversion of the RGB code to a numeric value, and thus be able to place them in a nice order
harmonically to the eye.</blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>colorNumber</span>(<span style=color:#a6e22e>c</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>256</span><span style=color:#f92672>*</span><span style=color:#ae81ff>256</span><span style=color:#f92672>*</span><span style=color:#a6e22e>red</span>(<span style=color:#a6e22e>c</span>) <span style=color:#f92672>+</span> <span style=color:#ae81ff>256</span><span style=color:#f92672>*</span><span style=color:#a6e22e>green</span>(<span style=color:#a6e22e>c</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>blue</span>(<span style=color:#a6e22e>c</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote class=book-hint>To obtain the distance between two colors, the Euclidean distance formula has been used, which allows to find the distance between two points in a space of n dimensions. In this case, it has been used to obtain the distance between two colors in RGB space in the <strong><code>colorDistance(c1, c2)</code></strong> function.</blockquote><h2 id=result>Result
<a class=anchor href=#result>#</a></h2><p>The final result is the following:</p><blockquote class="book-hint warning"><p><strong>Warning:</strong></p><p>For some images, the processing may take time due to the path that is necessary to carry out, so it is recommended to use images of a reduced size. Also, delays may occur if the image has too many different colors.</p></blockquote><iframe id=palette class=sketch srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            <script src=/showcase/sketches/palette.js>
            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><blockquote class="book-hint danger"><p><strong>Weaknesses:</strong></p><p>If there are many similar colors, depending on the tolerance value, not all important colors that could be displayed with human perception may be displayed, because the order of image processing causes the colors on top to have a higher priority.</p></blockquote><h2 id=full-code>Full Code
<a class=anchor href=#full-code>#</a></h2><details><summary>Palette.js</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>canvasSize</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>700</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>paletteHeight</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>tolerance</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>25</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>images</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Landscape.jpg&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Canada.png&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Unal.png&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Rainbow.png&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Urus.jpg&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Colombia.jpg&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Cristales.jpeg&#39;</span>
</span></span><span style=display:flex><span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>random</span>(<span style=color:#a6e22e>images</span>.<span style=color:#a6e22e>length</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;/showcase/assets/&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>images</span>[<span style=color:#a6e22e>index</span>]);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>canvasHeight</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>round</span>(<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span><span style=color:#f92672>*</span><span style=color:#a6e22e>canvasSize</span><span style=color:#f92672>/</span><span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>)<span style=color:#f92672>+</span><span style=color:#a6e22e>paletteHeight</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#a6e22e>canvasSize</span>, <span style=color:#a6e22e>canvasHeight</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>img</span>,  <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>canvasSize</span>, <span style=color:#a6e22e>canvasHeight</span><span style=color:#f92672>-</span><span style=color:#a6e22e>paletteHeight</span><span style=color:#f92672>-</span><span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>extractColors</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colors</span>.<span style=color:#a6e22e>sort</span>((<span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>a</span>) =&gt; <span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> <span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colors</span>.<span style=color:#a6e22e>slice</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>7</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colors</span>.<span style=color:#a6e22e>sort</span>((<span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>a</span>) =&gt; <span style=color:#a6e22e>colorNumber</span>(<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>-</span> <span style=color:#a6e22e>colorNumber</span>(<span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>0</span>]));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>colors</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>showPalette</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>extractColors</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>c</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>(<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>get</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>));
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>found</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>colors</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>existingColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colors</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>colorDistance</span>(<span style=color:#a6e22e>existingColor</span>, <span style=color:#a6e22e>c</span>) <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>tolerance</span>) { <span style=color:#75715e>// tolerance range
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#a6e22e>found</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>colors</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>1</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>found</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>colors</span>.<span style=color:#a6e22e>push</span>([<span style=color:#a6e22e>c</span>, <span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>showPalette</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>swatchSize</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>colors</span>.<span style=color:#a6e22e>length</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>colors</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>colors</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>swatchSize</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>paletteHeight</span>, <span style=color:#a6e22e>swatchSize</span>, <span style=color:#a6e22e>paletteHeight</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>colorNumber</span>(<span style=color:#a6e22e>c</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>256</span><span style=color:#f92672>*</span><span style=color:#ae81ff>256</span><span style=color:#f92672>*</span><span style=color:#a6e22e>red</span>(<span style=color:#a6e22e>c</span>) <span style=color:#f92672>+</span> <span style=color:#ae81ff>256</span><span style=color:#f92672>*</span><span style=color:#a6e22e>green</span>(<span style=color:#a6e22e>c</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>blue</span>(<span style=color:#a6e22e>c</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>colorDistance</span>(<span style=color:#a6e22e>c1</span>, <span style=color:#a6e22e>c2</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>rDiff</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>red</span>(<span style=color:#a6e22e>c1</span>) <span style=color:#f92672>-</span> <span style=color:#a6e22e>red</span>(<span style=color:#a6e22e>c2</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>gDiff</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>green</span>(<span style=color:#a6e22e>c1</span>) <span style=color:#f92672>-</span> <span style=color:#a6e22e>green</span>(<span style=color:#a6e22e>c2</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>bDiff</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>blue</span>(<span style=color:#a6e22e>c1</span>) <span style=color:#f92672>-</span> <span style=color:#a6e22e>blue</span>(<span style=color:#a6e22e>c2</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>sqrt</span>(<span style=color:#a6e22e>rDiff</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>rDiff</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>gDiff</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>gDiff</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>bDiff</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>bDiff</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><style>.sketch{width:100%;height:500px;display:flex}</style><script>function adjustIframeSize(){var e=document.querySelector("#palette").contentDocument.querySelector("canvas"),t=document.getElementById("palette");t.style.height=Math.round(e.height*700/e.width)+24+"px"}window.addEventListener("load",function(){setTimeout(adjustIframeSize,1e3)},{passive:!0})</script></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcrackers/showcase/commit/45049e9db97f05a0676fd096a1af009bf2e96a01 title='Last modified by Ivan Yared Lombana Lozano | June 20, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 20, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#palette-generator><strong>Palette Generator</strong></a><ul><li><a href=#how-does-it-work>How does it work?</a></li><li><a href=#result>Result</a></li><li><a href=#full-code>Full Code</a></li></ul></li></ul></nav></div></aside></main></body></html>