<!doctype html><html lang=es-es dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Color Histogram # Color histograms can also be employed as a potential application for individuals with color blindness, specifically for distinguishing and interpreting colors that might pose challenges to them. By utilizing color histograms, the following benefits can be realized:
Color Differentiation: Color histograms can help individuals with color blindness differentiate between different colors by analyzing the distribution of color values. Even if they cannot perceive specific colors accurately, they can still observe variations in color frequencies and patterns."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Color Histogram # Color histograms can also be employed as a potential application for individuals with color blindness, specifically for distinguishing and interpreting colors that might pose challenges to them. By utilizing color histograms, the following benefits can be realized:
Color Differentiation: Color histograms can help individuals with color blindness differentiate between different colors by analyzing the distribution of color values. Even if they cannot perceive specific colors accurately, they can still observe variations in color frequencies and patterns."><meta property="og:type" content="article"><meta property="og:url" content="https://visualcrackers.github.io/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/Histogram/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-19T21:25:29-05:00"><title>Histogram | Visual Crackers ðŸ’¥</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.d22a60abc40100847f86f22dd3b86c75dccdfdb323f5314b4227cb88db47b288.css integrity="sha256-0ipgq8QBAIR/hvIt07hsddzN/bMj9TFLQifLiNtHsog=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Visual Crackers ðŸ’¥</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><span>Visual Computing</span><ul><li><input type=checkbox id=section-4a86fae448a0f2e6d110fe23b7c4ce25 class=toggle checked>
<label for=section-4a86fae448a0f2e6d110fe23b7c4ce25 class="flex justify-between"><a role=button>Visual Ilusions</a></label><ul><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Intro-background/>Intro & Background</a></li><li><input type=checkbox id=section-0cee58da2e2f7ba7406b81f716a40f1b class=toggle checked>
<label for=section-0cee58da2e2f7ba7406b81f716a40f1b class="flex justify-between"><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/>Code & Results</a></label><ul><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/Palette/>Palette</a></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/ColorTracker/>Color Tracker</a></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/ReColoring/>Re Coloring</a></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/Histogram/ class=active>Histogram</a></li></ul></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Conclusions-Future-work/>Conclusions & Future Work</a></li></ul></li><li><input type=checkbox id=section-0d6c9b58e4921d4dbec9a87d14426653 class=toggle>
<label for=section-0d6c9b58e4921d4dbec9a87d14426653 class="flex justify-between"><a role=button>Transformations</a></label><ul><li><a href=/showcase/docs/VisualComputing/Transformations/Intro-background/>Intro & Background</a></li><li><input type=checkbox id=section-8cec2435bf1386ecadd18a96df947a94 class=toggle>
<label for=section-8cec2435bf1386ecadd18a96df947a94 class="flex justify-between"><a href=/showcase/docs/VisualComputing/Transformations/Code-Results/>Code & Results</a></label><ul><li><a href=/showcase/docs/VisualComputing/Transformations/Code-Results/2D-Solar-System/>2 D Solar System</a></li><li><a href=/showcase/docs/VisualComputing/Transformations/Code-Results/3D-Solar-System/>3 D Solar System</a></li><li><a href=/showcase/docs/VisualComputing/Transformations/Code-Results/Texture-Lighting/>Texture & Lighting</a></li></ul></li><li><a href=/showcase/docs/VisualComputing/Transformations/Conclusions-Future-work/>Conclusions & Future Work</a></li></ul></li><li><input type=checkbox id=section-28214bdf74b91f88b798d6a345130776 class=toggle>
<label for=section-28214bdf74b91f88b798d6a345130776 class="flex justify-between"><a role=button>Shaders</a></label><ul><li><a href=/showcase/docs/VisualComputing/Shaders/Intro-background/>Intro & Background</a></li><li><input type=checkbox id=section-2861031ceef2b1efc95889a5715c6ea4 class=toggle>
<label for=section-2861031ceef2b1efc95889a5715c6ea4 class="flex justify-between"><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/>Code & Results</a></label><ul><li><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/Color-Blender/>Color Blender</a></li><li><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/Glitch-Board/>Glitch Board</a></li><li><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/Mosaic/>Mosaic</a></li><li><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/Smart-Mosaic/>Smart Mosaic</a></li></ul></li><li><a href=/showcase/docs/VisualComputing/Shaders/Conclusions-Future-work/>Conclusions & Future Work</a></li></ul></li></ul></li><li><a href=/showcase/docs/About/>About</a></li><li><a href=/showcase/docs/Video/Video/>Video</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Histogram</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#color-histogram><strong>Color Histogram</strong></a><ul><li><a href=#how-does-it-work>How does it work?</a></li><li><a href=#result>Result</a></li><li><a href=#full-code>Full Code</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=color-histogram><strong>Color Histogram</strong>
<a class=anchor href=#color-histogram>#</a></h1><p>Color histograms can also be employed as a potential application for individuals with color blindness, specifically for distinguishing and interpreting colors that might pose challenges to them. By utilizing color histograms, the following benefits can be realized:</p><ul><li><p><strong>Color Differentiation:</strong> Color histograms can help individuals with color blindness differentiate between different colors by analyzing the distribution of color values. Even if they cannot perceive specific colors accurately, they can still observe variations in color frequencies and patterns.</p></li><li><p><strong>Color Mapping:</strong> Color histograms can assist in mapping colors to alternative representations that are distinguishable for individuals with color blindness. By analyzing the histogram peaks and valleys, color transformations or adjustments can be applied to make certain colors more discernible.</p></li><li><p><strong>Color Recognition:</strong> By comparing the color histograms of different images or regions within an image, individuals with color blindness can identify similarities and differences in color distribution. This can aid in recognizing objects, patterns, or distinguishing features that might otherwise be challenging due to color-related limitations.</p></li></ul><h2 id=how-does-it-work>How does it work?
<a class=anchor href=#how-does-it-work>#</a></h2><p>The program allows the user to select one of the preloaded images. This selection is made using a dropdown menu. Once an image is selected, the program calculates the color histogram by iterating over each pixel of the image. It records the frequency of red, green, and blue color values in separate arrays (red_arr, green_arr, and blue_arr), where the <strong><code>getIndex(x,y)</code></strong> function obtains the index of the iterated pixel from with we get the different values.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>idx</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getIndex</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>red_arr</span>[<span style=color:#a6e22e>r</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>green_arr</span>[<span style=color:#a6e22e>g</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>blue_arr</span>[<span style=color:#a6e22e>b</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Then, the selected image is displayed on the canvas, along with three lines representing the color histograms for red, green, and blue.
A graph is shown below the image and histograms, representing the intensity levels from 0 to 255 on the x-axis and the frequency on the y-axis.</p><h2 id=result>Result
<a class=anchor href=#result>#</a></h2><p>The final result is the following:</p><iframe id=palette class=sketch srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            <script src=/showcase/sketches/colorHistogram.js>
            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><blockquote class="book-hint danger"><p><strong>Weaknesses:</strong></p><p><strong>Limited Image Selection:</strong> The program only offers a fixed set of preloaded images. It could be improved by allowing users to upload their own images or providing a wider range of image options.</p><p><strong>Color Space Considerations:</strong> The program currently calculates the color histogram based on the RGB color space. However, other color spaces like HSL or LAB could provide additional insights into color distributions. Supporting different color spaces would enhance the program&rsquo;s capabilities.</p><p><strong>Accessibility for Screen Readers:</strong> The program heavily relies on visual elements, which may pose challenges for users who rely on screen readers. To improve accessibility, alternative text descriptions or sonification of the histogram data should be considered.</p></blockquote><h2 id=full-code>Full Code
<a class=anchor href=#full-code>#</a></h2><details><summary>colorHistogram.js</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>red_arr</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Array(<span style=color:#ae81ff>256</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>green_arr</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Array(<span style=color:#ae81ff>256</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>blue_arr</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Array(<span style=color:#ae81ff>256</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Array(<span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img</span>,<span style=color:#a6e22e>img1</span>,<span style=color:#a6e22e>img2</span>,<span style=color:#a6e22e>img3</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>leftM</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>180</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>upM</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>15</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>canvasWidth</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>700</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>canvasHeight</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>550</span>; 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span><span style=color:#a6e22e>img1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/assets/Cristales.jpeg&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>img2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/assets/Rainbow.png&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>img3</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/assets/Landscape.jpg&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getIndex</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img1</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>resize</span>(<span style=color:#a6e22e>canvasWidth</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>canvasHeight</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2.2</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>createCanvas</span>(<span style=color:#a6e22e>canvasWidth</span>, <span style=color:#a6e22e>canvasHeight</span>);  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>256</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>red_arr</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>green_arr</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>blue_arr</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>filtered</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createImage</span>(<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>filtered</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>idx</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getIndex</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>red_arr</span>[<span style=color:#a6e22e>r</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>green_arr</span>[<span style=color:#a6e22e>g</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>blue_arr</span>[<span style=color:#a6e22e>b</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colors</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>red_arr</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colors</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>green_arr</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colors</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>blue_arr</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>filtered</span>.<span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Crea el selector desplegable de imÃ¡genes
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>imageSelector</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>imageSelector</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>620</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>imageSelector</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Imagen 1&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>imageSelector</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Imagen 2&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>imageSelector</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Imagen 3&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>imageSelector</span>.<span style=color:#a6e22e>selected</span>(<span style=color:#e6db74>&#34;Imagen 1&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>imageSelector</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>updateSelectedImage</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>updateSelectedImage</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>selectedImage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imageSelector</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>selectedImage</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Imagen 1&#34;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img1</span>;
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>selectedImage</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Imagen 2&#34;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img2</span>;
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>selectedImage</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Imagen 3&#34;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img3</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>resize</span>(<span style=color:#a6e22e>canvasWidth</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>canvasHeight</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2.2</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>calculateHistogram</span>(<span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>calculateHistogram</span>(<span style=color:#a6e22e>imagen</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>256</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>red_arr</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>green_arr</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>blue_arr</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>imagen</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>filtered</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>imagen</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>imagen</span>.<span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>idx</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getIndex</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imagen</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imagen</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imagen</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imagen</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>];
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>red_arr</span>[<span style=color:#a6e22e>r</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>green_arr</span>[<span style=color:#a6e22e>g</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>blue_arr</span>[<span style=color:#a6e22e>b</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colors</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>red_arr</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colors</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>green_arr</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colors</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>blue_arr</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>imagen</span>.<span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>180</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>paint</span>(<span style=color:#a6e22e>color</span>(<span style=color:#e6db74>&#39;rgba(255,0,0,0.1)&#39;</span>), <span style=color:#a6e22e>colors</span>[<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>paint</span>(<span style=color:#a6e22e>color</span>(<span style=color:#e6db74>&#39;rgba(0,255,0,0.1)&#39;</span>), <span style=color:#a6e22e>colors</span>[<span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>paint</span>(<span style=color:#a6e22e>color</span>(<span style=color:#e6db74>&#39;rgba(0,0,255,0.1)&#39;</span>), <span style=color:#a6e22e>colors</span>[<span style=color:#ae81ff>2</span>]);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>graph</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>graph</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textAlign</span>(<span style=color:#a6e22e>CENTER</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>14</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Valores del color (0 - 255) &#39;</span>, <span style=color:#a6e22e>leftM</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>upM</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>angle2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>radians</span>(<span style=color:#ae81ff>270</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>leftM</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, (<span style=color:#ae81ff>3</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rotate</span>(<span style=color:#a6e22e>angle2</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Frecuencias&#34;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>40</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>paint</span>(<span style=color:#a6e22e>color</span>, <span style=color:#a6e22e>array</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stroke</span>(<span style=color:#a6e22e>color</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>256</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>xPos</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>i</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>256</span>, <span style=color:#a6e22e>leftM</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>leftM</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span><span style=color:#f92672>*</span><span style=color:#ae81ff>1.3</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>xPrev</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>i</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>256</span>, <span style=color:#a6e22e>leftM</span><span style=color:#f92672>-</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>leftM</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span><span style=color:#f92672>*</span><span style=color:#ae81ff>1.3</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>yPos</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>array</span>[<span style=color:#a6e22e>i</span>], <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>array</span>), <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>50</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>yPrev</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>array</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>], <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>array</span>), <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>50</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>xPrev</span>, <span style=color:#a6e22e>yPrev</span>, <span style=color:#a6e22e>xPos</span>, <span style=color:#a6e22e>yPos</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>xPos</span>, <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>, <span style=color:#a6e22e>xPos</span>, <span style=color:#a6e22e>yPos</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><style>.sketch{width:100%;height:500px;display:flex}</style><script>function adjustIframeSize(){var e=document.querySelector("#palette").contentDocument.querySelector("canvas"),t=document.getElementById("palette");t.style.height=Math.round(e.height*700/e.width)+24+"px"}window.addEventListener("load",function(){setTimeout(adjustIframeSize,1e3)},{passive:!0})</script></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcrackers/showcase/commit/45049e9db97f05a0676fd096a1af009bf2e96a01 title='Last modified by Ivan Yared Lombana Lozano | June 20, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 20, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#color-histogram><strong>Color Histogram</strong></a><ul><li><a href=#how-does-it-work>How does it work?</a></li><li><a href=#result>Result</a></li><li><a href=#full-code>Full Code</a></li></ul></li></ul></nav></div></aside></main></body></html>