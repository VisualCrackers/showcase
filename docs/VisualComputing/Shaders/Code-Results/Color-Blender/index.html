<!doctype html><html lang=es-es dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Color Blender # One basic rendering application is the mix of colors. Blending colors refers to the process of combining two or more colors to create a new one. The principal theory behind this sketch is manipulate the color components RGB of both colors and determining in which way they will interact.
This idea is applied in areas as Image Editing, Lighting and Shading, Color Interpolation and Color Correction. There are several operations that allow to obtain different results, such as addition, multiplication, substraction, overlay, screen, darken, lighten and so more."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Color Blender # One basic rendering application is the mix of colors. Blending colors refers to the process of combining two or more colors to create a new one. The principal theory behind this sketch is manipulate the color components RGB of both colors and determining in which way they will interact.
This idea is applied in areas as Image Editing, Lighting and Shading, Color Interpolation and Color Correction. There are several operations that allow to obtain different results, such as addition, multiplication, substraction, overlay, screen, darken, lighten and so more."><meta property="og:type" content="article"><meta property="og:url" content="https://visualcrackers.github.io/showcase/docs/VisualComputing/Shaders/Code-Results/Color-Blender/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-19T19:34:29-05:00"><title>Color Blender | Visual Crackers ðŸ’¥</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.d22a60abc40100847f86f22dd3b86c75dccdfdb323f5314b4227cb88db47b288.css integrity="sha256-0ipgq8QBAIR/hvIt07hsddzN/bMj9TFLQifLiNtHsog=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Visual Crackers ðŸ’¥</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><span>Visual Computing</span><ul><li><input type=checkbox id=section-4a86fae448a0f2e6d110fe23b7c4ce25 class=toggle>
<label for=section-4a86fae448a0f2e6d110fe23b7c4ce25 class="flex justify-between"><a role=button>Visual Ilusions</a></label><ul><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Intro-background/>Intro & Background</a></li><li><input type=checkbox id=section-0cee58da2e2f7ba7406b81f716a40f1b class=toggle>
<label for=section-0cee58da2e2f7ba7406b81f716a40f1b class="flex justify-between"><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/>Code & Results</a></label><ul><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/Palette/>Palette</a></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/ColorTracker/>Color Tracker</a></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/ReColoring/>Re Coloring</a></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Code-Results/Histogram/>Histogram</a></li></ul></li><li><a href=/showcase/docs/VisualComputing/Visual-Ilusions/Conclusions-Future-work/>Conclusions & Future Work</a></li></ul></li><li><input type=checkbox id=section-0d6c9b58e4921d4dbec9a87d14426653 class=toggle>
<label for=section-0d6c9b58e4921d4dbec9a87d14426653 class="flex justify-between"><a role=button>Transformations</a></label><ul><li><a href=/showcase/docs/VisualComputing/Transformations/Intro-background/>Intro & Background</a></li><li><input type=checkbox id=section-8cec2435bf1386ecadd18a96df947a94 class=toggle>
<label for=section-8cec2435bf1386ecadd18a96df947a94 class="flex justify-between"><a href=/showcase/docs/VisualComputing/Transformations/Code-Results/>Code & Results</a></label><ul><li><a href=/showcase/docs/VisualComputing/Transformations/Code-Results/2D-Solar-System/>2 D Solar System</a></li><li><a href=/showcase/docs/VisualComputing/Transformations/Code-Results/3D-Solar-System/>3 D Solar System</a></li><li><a href=/showcase/docs/VisualComputing/Transformations/Code-Results/Texture-Lighting/>Texture & Lighting</a></li></ul></li><li><a href=/showcase/docs/VisualComputing/Transformations/Conclusions-Future-work/>Conclusions & Future Work</a></li></ul></li><li><input type=checkbox id=section-28214bdf74b91f88b798d6a345130776 class=toggle checked>
<label for=section-28214bdf74b91f88b798d6a345130776 class="flex justify-between"><a role=button>Shaders</a></label><ul><li><a href=/showcase/docs/VisualComputing/Shaders/Intro-background/>Intro & Background</a></li><li><input type=checkbox id=section-2861031ceef2b1efc95889a5715c6ea4 class=toggle checked>
<label for=section-2861031ceef2b1efc95889a5715c6ea4 class="flex justify-between"><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/>Code & Results</a></label><ul><li><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/Color-Blender/ class=active>Color Blender</a></li><li><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/Glitch-Board/>Glitch Board</a></li><li><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/Mosaic/>Mosaic</a></li><li><a href=/showcase/docs/VisualComputing/Shaders/Code-Results/Smart-Mosaic/>Smart Mosaic</a></li></ul></li><li><a href=/showcase/docs/VisualComputing/Shaders/Conclusions-Future-work/>Conclusions & Future Work</a></li></ul></li></ul></li><li><a href=/showcase/docs/About/>About</a></li><li><a href=/showcase/docs/Video/Video/>Video</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Color Blender</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#color-blender><strong>Color Blender</strong></a><ul><li><a href=#how-does-it-works>How does it works?</a></li><li><a href=#result>Result</a></li><li><a href=#full-code>Full Code</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=color-blender><strong>Color Blender</strong>
<a class=anchor href=#color-blender>#</a></h1><p>One basic rendering application is the <strong>mix of colors</strong>. <em><a href=https://cglearn.codelight.eu/pub/computer-graphics/blending>Blending colors</a></em> refers to the process of combining two or more colors to create a new one. The principal theory behind this sketch is manipulate the color components RGB of both colors and determining in which way they will interact.</p><p>This idea is applied in areas as Image Editing, Lighting and Shading, Color Interpolation and Color Correction. There are <a href=https://en.wikipedia.org/wiki/Blend_modes>several operations</a> that allow to obtain different results, such as addition, multiplication, substraction, overlay, screen, darken, lighten and so more. For each <em>effect</em> exists equations to perform this operations mathematically, as you can see <a href=https://imagineer.in/blog/math-behind-blend-modes/>here</a>.</p><h2 id=how-does-it-works>How does it works?
<a class=anchor href=#how-does-it-works>#</a></h2><p>The user select the desired colors, and brightness level. Until there, the application does not use shaders; but once an effect is chosen the colors are sent to the <em>Fragment Shader</em> and they are separated in each of their components: Red, Green and Blue. Depending to the effect, the operation change and it allows to get a new color. In the following code it is possible to examine some of the options listed and also a partial work of this file.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>r1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color1</span>.<span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>g1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color1</span>.<span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>b1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color1</span>.<span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>r2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color2</span>.<span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>g2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color2</span>.<span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>b2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color2</span>.<span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec3</span>(<span style=color:#ae81ff>0.0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>mult</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>color1</span><span style=color:#f92672>*</span><span style=color:#a6e22e>color2</span>);
</span></span><span style=display:flex><span>    }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>screen</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec3</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>r1</span>)<span style=color:#f92672>*</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>r2</span>), <span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>g1</span>)<span style=color:#f92672>*</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>g2</span>), <span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>b1</span>)<span style=color:#f92672>*</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>b2</span>));
</span></span><span style=display:flex><span>    }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>darken</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec3</span>(<span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>r1</span>, <span style=color:#a6e22e>r2</span>), <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>g1</span>, <span style=color:#a6e22e>g2</span>), <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>b1</span>, <span style=color:#a6e22e>b2</span>));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>brightness</span><span style=color:#f92672>*</span><span style=color:#a6e22e>result</span>, <span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=result>Result
<a class=anchor href=#result>#</a></h2><p>The following sketch shows an example of two colors that can be mixed with the above operations and how modify the <strong>brightness</strong> changes the desired effect.</p><blockquote class="book-hint info">Up to the left is a list of possible operations to watch the effect that produces. Also the colors are eligible as well as the bright level through the slider.</blockquote><iframe id=palette class=sketch srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script>
            <script src=/showcase/sketches/shaders/blender/colorBlender.js>
            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><blockquote class="book-hint warning">To start using the program, you should select first an effect, if not, the color or brightness change will not be applied.</blockquote><p>The use of shaders here, gives facilities at the time of show the results, but mainly during the blending of the colors executing the operations. Those operations are not difficult, but the space change of RGB values from [0, 255] to [0.0, 1.0] allows to always stay in the correct range avoiding the math gimmicks needed in other cases.</p><h2 id=full-code>Full Code
<a class=anchor href=#full-code>#</a></h2><blockquote class="book-hint danger">For the <em>Vertex Shader</em> we are implementing the Tree.color4 instance from the library <em><strong><a href=https://github.com/VisualComputing/p5.treegl>p5.treegl</a></strong></em> developed by <a href=https://github.com/nakednous>Jean Pierre Charalambos</a> and <a href=https://github.com/dangulos>Daniel Angulo</a></blockquote><details><summary>colorBlender.js</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorShader</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>picker1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>picker2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>color1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>color2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>rectColor1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>rectColor2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>rectResult</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>offset</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>operations</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;mult&#34;</span>, <span style=color:#e6db74>&#34;sum&#34;</span>, <span style=color:#e6db74>&#34;sub&#34;</span>, <span style=color:#e6db74>&#34;overlay&#34;</span>, <span style=color:#e6db74>&#34;screen&#34;</span>, <span style=color:#e6db74>&#34;darken&#34;</span>, <span style=color:#e6db74>&#34;lighten&#34;</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>effect</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>brightness</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;colorBlender.frag&#39;</span>,
</span></span><span style=display:flex><span>                          {<span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>color4</span>});
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>600</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>picker1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span>(<span style=color:#e6db74>&#39;red&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>picker1</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>width</span><span style=color:#f92672>/</span><span style=color:#ae81ff>8</span>, <span style=color:#a6e22e>height</span><span style=color:#f92672>/</span><span style=color:#ae81ff>8</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>picker2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span>(<span style=color:#e6db74>&#39;lightgreen&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>picker2</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>width</span><span style=color:#f92672>*</span><span style=color:#ae81ff>7</span><span style=color:#f92672>/</span><span style=color:#ae81ff>12</span>, <span style=color:#a6e22e>height</span><span style=color:#f92672>/</span><span style=color:#ae81ff>8</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>effect</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>effect</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>effect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;effect&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>operations</span>) <span style=color:#a6e22e>effect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#a6e22e>i</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>effect</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>changeEffect</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;mult&#39;</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>brightness</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0.5</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>brightness</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>300</span><span style=color:#f92672>-</span><span style=color:#ae81ff>40</span>, <span style=color:#ae81ff>260</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>brightness</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;80px&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rectColor1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#ae81ff>150</span>, <span style=color:#ae81ff>150</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rectColor2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#ae81ff>150</span>, <span style=color:#ae81ff>150</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rectResult</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>picker1</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>picker2</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>offset</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>40</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#e6db74>&#39;#1E1E37&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>picker1</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>picker2</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rectColor1</span>.<span style=color:#a6e22e>background</span>(<span style=color:#a6e22e>color1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rectColor2</span>.<span style=color:#a6e22e>background</span>(<span style=color:#a6e22e>color2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>rectColor1</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>width</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span><span style=color:#f92672>+</span><span style=color:#a6e22e>offset</span><span style=color:#f92672>*</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>height</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span><span style=color:#f92672>+</span><span style=color:#a6e22e>offset</span><span style=color:#f92672>*</span><span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>rectColor2</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>width</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span><span style=color:#f92672>+</span><span style=color:#a6e22e>offset</span><span style=color:#f92672>*</span><span style=color:#ae81ff>9</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>height</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span><span style=color:#f92672>+</span><span style=color:#a6e22e>offset</span><span style=color:#f92672>*</span><span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>colorShader</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;brightness&#39;</span>, <span style=color:#a6e22e>brightness</span>.<span style=color:#a6e22e>value</span>());
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;color1&#39;</span>, <span style=color:#a6e22e>normalized</span>(<span style=color:#a6e22e>color1</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;color2&#39;</span>, <span style=color:#a6e22e>normalized</span>(<span style=color:#a6e22e>color2</span>));
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>beginShape</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>0.0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>0.0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>endShape</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>normalized</span>(<span style=color:#a6e22e>color</span>){
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>red</span>(<span style=color:#a6e22e>color</span>)<span style=color:#f92672>/</span><span style=color:#ae81ff>255</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>green</span>(<span style=color:#a6e22e>color</span>)<span style=color:#f92672>/</span><span style=color:#ae81ff>255</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>blue</span>(<span style=color:#a6e22e>color</span>)<span style=color:#f92672>/</span><span style=color:#ae81ff>255</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> [<span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>g</span>,<span style=color:#a6e22e>b</span>];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>changeEffect</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>effect</span>.<span style=color:#a6e22e>disable</span>(<span style=color:#e6db74>&#39;effect&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>operations</span>) <span style=color:#a6e22e>colorShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#a6e22e>i</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#a6e22e>effect</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><br><details><summary>colorBlender.frag</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>precision</span> <span style=color:#a6e22e>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>color1</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>color2</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>brightness</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>mult</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>sum</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>sub</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>overlay</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>screen</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>darken</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>lighten</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>r1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color1</span>.<span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>g1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color1</span>.<span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>b1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color1</span>.<span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>r2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color2</span>.<span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>g2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color2</span>.<span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>b2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color2</span>.<span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec3</span>(<span style=color:#ae81ff>0.0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>mult</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>color1</span><span style=color:#f92672>*</span><span style=color:#a6e22e>color2</span>);
</span></span><span style=display:flex><span>    }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>sum</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>color1</span><span style=color:#f92672>+</span><span style=color:#a6e22e>color2</span>);
</span></span><span style=display:flex><span>    }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>sub</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>color1</span><span style=color:#f92672>-</span><span style=color:#a6e22e>color2</span>);
</span></span><span style=display:flex><span>    }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>overlay</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>r1</span><span style=color:#f92672>&lt;=</span><span style=color:#ae81ff>0.5</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>result</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec3</span>(<span style=color:#ae81ff>2.0</span><span style=color:#f92672>*</span><span style=color:#a6e22e>r1</span><span style=color:#f92672>+</span><span style=color:#a6e22e>r2</span>, <span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>0.0</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>result</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec3</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2.0</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>r1</span>)<span style=color:#f92672>*</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>r2</span>), <span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>0.0</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>g1</span><span style=color:#f92672>&lt;=</span><span style=color:#ae81ff>0.5</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>result</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec3</span>(<span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>2.0</span><span style=color:#f92672>*</span><span style=color:#a6e22e>g1</span><span style=color:#f92672>+</span><span style=color:#a6e22e>g2</span>, <span style=color:#ae81ff>0.0</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>result</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec3</span>(<span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2.0</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>g1</span>)<span style=color:#f92672>*</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>g2</span>), <span style=color:#ae81ff>0.0</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>b1</span><span style=color:#f92672>&lt;=</span><span style=color:#ae81ff>0.5</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>result</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec3</span>(<span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>2.0</span><span style=color:#f92672>*</span><span style=color:#a6e22e>b1</span><span style=color:#f92672>+</span><span style=color:#a6e22e>b2</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>result</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec3</span>(<span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2.0</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>b1</span>)<span style=color:#f92672>*</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>b2</span>));
</span></span><span style=display:flex><span>    }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>screen</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec3</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>r1</span>)<span style=color:#f92672>*</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>r2</span>), <span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>g1</span>)<span style=color:#f92672>*</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>g2</span>), <span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>b1</span>)<span style=color:#f92672>*</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>b2</span>));
</span></span><span style=display:flex><span>    }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>darken</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec3</span>(<span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>r1</span>, <span style=color:#a6e22e>r2</span>), <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>g1</span>, <span style=color:#a6e22e>g2</span>), <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>b1</span>, <span style=color:#a6e22e>b2</span>));
</span></span><span style=display:flex><span>    }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>lighten</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec3</span>(<span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>r1</span>, <span style=color:#a6e22e>r2</span>), <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>g1</span>, <span style=color:#a6e22e>g2</span>), <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>b1</span>, <span style=color:#a6e22e>b2</span>));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>brightness</span><span style=color:#f92672>*</span><span style=color:#a6e22e>result</span>, <span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><style>.sketch{width:630px;height:630px;display:flex}</style></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcrackers/showcase/commit/e06963299cc2d76c7eafcdfc9f728ee2ba35d555 title='Last modified by Ivan Yared Lombana Lozano | June 20, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 20, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#color-blender><strong>Color Blender</strong></a><ul><li><a href=#how-does-it-works>How does it works?</a></li><li><a href=#result>Result</a></li><li><a href=#full-code>Full Code</a></li></ul></li></ul></nav></div></aside></main></body></html>